function debounce(e,t){let a;return function(...o){clearTimeout(a),a=setTimeout((()=>{clearTimeout(a),e(...o)}),t)}}const addScaleAnimation=(e,t)=>{e.style.transform="scale(1)",e.style.transitionDelay=`${t}ms`},removeScaleAnimation=e=>{e.style.transform="",e.style.transitionDelay=""};function createGrid(e,t,a,o){let s=e.querySelector(".grid-container");s?s.innerHTML="":(s=document.createElement("div"),s.classList.add("grid-container"),s.style.position="absolute",s.style.top="0",s.style.left="0",s.style.width="100%",s.style.height="100%",e.appendChild(s));const n=document.createDocumentFragment();for(let e=0;e<o;e++)for(let o=0;o<a;o++){const a=document.createElement("div");a.classList.add("navsquare"),a.style.width=`${t}px`,a.style.height=`${t}px`,a.style.position="absolute",a.style.top=e*t+"px",a.style.left=o*t+"px",n.appendChild(a)}s.appendChild(n)}function updateActiveNavLink(){calculateSquaresPerRow();const e=document.querySelector("#contents"),t=document.querySelectorAll("#contents section"),a=document.querySelectorAll("#navbar ul li a"),o=document.querySelector(".header-container").offsetHeight,s=e.offsetHeight,n=.3*window.innerHeight;let l=e.scrollTop+o+n,r=e.scrollHeight-s,c="";if(t.forEach((e=>{const t=e.offsetTop,a=e.offsetHeight;t<=l&&t+a>l&&(c=e.getAttribute("id"))})),e.scrollTop>=r?c=t[t.length-1].getAttribute("id"):t.forEach((e=>{const t=e.offsetTop,a=e.offsetHeight;t<=l&&t+a>l&&(c=e.getAttribute("id"))})),""===c){let e="",a=1/0;t.forEach((t=>{const o=t.offsetTop,s=t.offsetHeight,n=Math.abs(l-(o+s/2));n<a&&(a=n,e=t.getAttribute("id"))})),c=e}a.forEach((e=>{const t=e.closest("li");squaresPerRow=Math.floor(t.offsetWidth/squareSize)+2;const a=t.querySelectorAll(".navsquare");e.getAttribute("href")===`#${c}`?(e.classList.add("active"),e.closest("li").classList.add("active"),e.classList.add("text-black"),a.forEach(((e,t)=>{Math.floor(t/squaresPerRow);const a=t%squaresPerRow,o=Math.random()*maxAdditionalDelayPerRow+a*baseDelayPerCol;addScaleAnimation(e,o)}))):(e.classList.remove("active"),e.closest("li").classList.remove("active"),e.classList.remove("text-black"),a.forEach((e=>{removeScaleAnimation(e)})))}))}function calculateSquaresPerRow(){const e=document.querySelector("#navbar ul li a");if(e){const t=e.closest("li");squaresPerRow=Math.floor(t.offsetWidth/squareSize)+2}}function setupNavSquares(e,t,a){document.querySelectorAll("#navbar li a").forEach((o=>{const s=o.closest("li"),n=s.offsetWidth,l=s.offsetHeight,r=Math.floor(n/e)+2,c=Math.floor(l/e)+2;createGrid(s,e,r,c),s.addEventListener("mouseenter",(()=>{o.classList.contains("active")||(o.classList.add("text-black"),s.querySelectorAll(".navsquare").forEach(((e,o)=>{Math.floor(o/r);const s=o%r,n=Math.random()*a+s*t;addScaleAnimation(e,n)})))})),s.addEventListener("mouseleave",(()=>{o.classList.contains("active")||(o.classList.remove("text-black"),s.querySelectorAll(".navsquare").forEach((e=>{removeScaleAnimation(e)})))}))}))}const squareSize=5,baseDelayPerCol=3,maxAdditionalDelayPerRow=10;let squaresPerRow;window.addEventListener("resize",debounce((()=>{calculateSquaresPerRow(),setupNavSquares(squareSize,baseDelayPerCol,maxAdditionalDelayPerRow),updateActiveNavLink()}),100)),document.addEventListener("DOMContentLoaded",(()=>{calculateSquaresPerRow(),setupNavSquares(squareSize,baseDelayPerCol,maxAdditionalDelayPerRow),updateActiveNavLink();const e=document.querySelector("#contents");e.addEventListener("scroll",debounce((()=>{updateActiveNavLink()}),15)),document.querySelectorAll("#navbar ul li a").forEach((t=>{t.addEventListener("click",(function(t){t.preventDefault();const a=this.getAttribute("href").replace(/^#/,""),o=document.getElementById(a);if(o){const t=o.offsetTop-document.querySelector(".header-container").offsetHeight-10;e.scrollTo({top:t,behavior:"smooth"})}}))}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("menu"),t=document.querySelectorAll("#navbar ul li");e.addEventListener("click",(()=>{let e=t[0].classList.contains("expanded1");t.forEach(((t,a)=>{t.classList.remove(`expanded${a+1}`),e||t.classList.add(`expanded${a+1}`)}))})),document.addEventListener("click",(e=>{e.target.closest("#navbar")||t.forEach(((e,t)=>{e.classList.remove(`expanded${t+1}`)}))})),t.forEach(((e,a)=>{e.addEventListener("click",(()=>{t.forEach(((e,t)=>{e.classList.remove(`expanded${t+1}`)}))}))}))}));